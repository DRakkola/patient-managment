{% extends 'base.html' %}
{% block title %}Home{% endblock %} 
{% load static %}

{%block content %}
<form class="row g-3 needs-validation" novalidate>

    <div class="col-md8 tab" style="display: none;">
      <h3>I.	Antécédents cardio-vasculaires</h3> 
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" name="card_1" >
        <label class="form-check-label" for="flexSwitchCheckDefault">1.	Etes-vous suivi pour une hypertension artérielle ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" name="card_2">
        <label class="form-check-label" for="flexSwitchCheckChecked">2.	Etes-vous suivi pour une insuffisance cardiaque ? </label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDisabled" name="card_3" >
        <label class="form-check-label" for="flexSwitchCheckDisabled">3.	Etes-vous suivi pour un souffle au cœur ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckCheckedDisabled" name="card_4" >
        <label class="form-check-label" for="flexSwitchCheckCheckedDisabled">4.	Avez-vous une valve cardiaque artificielle ? </label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" name="card_5">
        <label class="form-check-label" for="flexSwitchCheckDefault">5.	Avez-vous un pace-maker (pile) ? </label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" name="card_6" >
        <label class="form-check-label" for="flexSwitchCheckChecked">6.	Avez-vous des stents coronaires ? (Ressorts dans les artères du cœur) </label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDisabled" name="card_7" >
        <label class="form-check-label" for="flexSwitchCheckDisabled">7.	Avez-vous fait une phlébite (veine bouchée au niveau des jambes) ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckCheckedDisabled" name="card_8" >
        <label class="form-check-label" for="flexSwitchCheckCheckedDisabled">8.	Avez-vous fait une embolie pulmonaire (artère bouchée au niveau des poumons) ? </label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" name="card_9">
        <label class="form-label" for="flexSwitchCheckDefault">9.	Avez-vous déjà eu des examens à visée cardiaque ?</label>
      </div>
      <label class="form-check-label" for="flexSwitchCheckChecked">10. Avez-vous consulté ou été hospitalisé pour une cause cardiaque ? (Préciser) </label>
      <div class="input-group mb-3">
        <div class="input-group-text">
          <input class="form-check-input" type="checkbox" id="card_10" name="card_10" >
        </div>
        <input type="text" value="preciser" class="form-control" aria-label="Text input with checkbox" id="card_10_in" disabled>
      </div>
      <label class="form-check-label" for="flexSwitchCheckChecked">11. Quelle est la date de la dernière consultation auprès du cardiologue ?</label>
      <div class="input-group col-mb-3">
        <div class="input-group-text ">
          <input class="form-check-input" type="checkbox" id="card_11" name="card_11" >
        </div>
        <input type="date" value="2017-08-08" class="form-control" aria-label="Text input with checkbox" id="card_11_in" disabled>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckCheckedDisabled" name="card_12" >
        <label class="form-check-label" for="flexSwitchCheckCheckedDisabled">12.	Est-ce que vous présentez une douleur thoracique lors de l’exercice d’un effort ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" name="card_13">
        <label class="form-check-label" for="flexSwitchCheckDefault">13.	Etes-vous essoufflé(e) à l’exercice d’un effort ? </label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" name="card_14" >
        <label class="form-check-label" for="flexSwitchCheckChecked">14.	Sentez-vous des palpitations sans cause évidente ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDisabled" name="card_15" >
        <label class="form-check-label" for="flexSwitchCheckDisabled">15.	Présentez-vous parfois un vertige ou perte de conscience ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckCheckedDisabled" name="card_16" >
        <label class="form-check-label" for="flexSwitchCheckCheckedDisabled">16.	Avez-vous fait des varices ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" name="card_17">
        <label class="form-check-label" for="flexSwitchCheckDefault">17.	Avez-vous des crampes dans les mollets vous stoppant à la marche ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" name="card_18" >
        <label class="form-check-label" for="flexSwitchCheckChecked">18.	Est-ce que vous rencontrez une difficulté à monter deux étages sans repos ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDisabled" name="card_19" >
        <label class="form-check-label" for="flexSwitchCheckDisabled">19.	Prenez soin de vous (par exemple manger, vous habiller, vous laver, aller aux toilettes) ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckCheckedDisabled" name="card_20" >
        <label class="form-check-label" for="flexSwitchCheckCheckedDisabled">20.	Marchez-vous à l'intérieur (par exemple vous déplacer autour de votre maison) ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" name="card_21">
        <label class="form-check-label" for="flexSwitchCheckDefault">21.	Marchez-vous 1 à 2 blocs de maisons sur un sol plat (par exemple sur environ 200m sur chemin plat) ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" name="card_22" >
        <label class="form-check-label" for="flexSwitchCheckChecked">22.	Est-ce que vous pouvez monter un escalier ou une colline (par exemple un étage d'escalier) ?  </label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDisabled" name="card_23" >
        <label class="form-check-label" for="flexSwitchCheckDisabled">23.	Est-ce que vous pouvez courir sur une courte distance ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckCheckedDisabled" name="card_24" >
        <label class="form-check-label" for="flexSwitchCheckCheckedDisabled">24.	Est-ce que vous pouvez faire des travaux légers à la maison (par exemple nettoyer la poussière, laver les vaisselles) ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" name="card_25">
        <label class="form-check-label" for="flexSwitchCheckDefault">25.	Est-ce que vous pouvez faire des travaux modérés à la maison (par exemple, passer l'aspirateur, balayer le sol, porter les courses) ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" name="card_26" >
        <label class="form-check-label" for="flexSwitchCheckChecked">26.	Est-ce que vous pouvez faire de gros travaux à la maison (par exemple, soulever ou déplacer des meubles lourds) ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDisabled" name="card_27" >
        <label class="form-check-label" for="flexSwitchCheckDisabled">27.	Est-ce que vous pouvez faire du jardinage (par exemple ratisser les feuilles, désherber, pousser la tondeuse de gazon) ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckCheckedDisabled" name="card_28" >
        <label class="form-check-label" for="flexSwitchCheckCheckedDisabled">28.	Est-ce que vous pouvez avoir des relations sexuelles ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" name="card_29">
        <label class="form-check-label" for="flexSwitchCheckDefault">29.	Est-ce que vous pouvez participer à des activités récréatives modérées (par exemple, danse, footing, bicyclette, faire les courses au marché) ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" name="card_30" >
        <label class="form-check-label" for="flexSwitchCheckChecked">30.	Est-ce que vous pouvez participer à des sports intenses (par exemple, natation, football, courir) ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDisabled" name="card_31" >
        <label class="form-check-label" for="flexSwitchCheckDisabled">31.	Est-ce que votre activité usuelle entraîne soit fatigue, dyspnée, douleurs angineuses ou palpitations ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckCheckedDisabled" name="card_32" >
        <label class="form-check-label" for="flexSwitchCheckCheckedDisabled">32.	Est-ce que vous êtes confortable au repos, mais l'activité physique habituelle entraine fatigue, palpitations ou dyspnée ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDisabled" name="card_33" >
        <label class="form-check-label" for="flexSwitchCheckDisabled">33.	Est-ce que vous présentez une dyspnée, palpitations ou fatigue au repos et en cas d'effort la gêne augmente ?</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckCheckedDisabled" name="card_34" >
        <label class="form-check-label" for="flexSwitchCheckCheckedDisabled">34.	Est-ce que vous avez une difficulté respiratoire en position couchée, améliorée en position assise ou debout ?</label>
      </div>
    </div>
    <div class="col-md-4 tab" style="display: none;">
      <label for="validationCustom01" class="form-label">First name</label>
      <input type="text" class="form-control" id="validationCustom01" value="Mark" required>
      <div class="valid-feedback">
        Looks good!
      </div>
    </div>

    <div class="col-md-4 tab" style="display: none;">
      <label for="validationCustomUsername" class="form-label">Username</label>
      <div class="input-group has-validation">
        <span class="input-group-text" id="inputGroupPrepend">@</span>
        <input type="text" class="form-control" id="validationCustomUsername" aria-describedby="inputGroupPrepend" required>
        <div class="invalid-feedback">
          Please choose a username.
        </div>
      </div>
    </div>

    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
          <li class="page-item">
            <button class="page-link"  id="prevBtn" onclick="nextPrev(-1)">Previous</button>
          </li>
          <li class="page-item step"><span class="page-link" >1</span></li>
          <li class="page-item step"><span class="page-link" >2</span></li>
          <li class="page-item step"><span class="page-link" >3</span></li>
          <li class="page-item">
            <button class="page-link" id="nextBtn" onclick="nextPrev(1)"">Next</button>
          </li>
        </ul>
      </nav>
    <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function () {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
                }

                form.classList.add('was-validated')
            }, false)
            })
        })()
        var currentTab = 0; // Current tab is set to be the first tab (0)
        showTab(currentTab); // Display the current tab

        function showTab(n) {
        // This function will display the specified tab of the form ...
        var x = document.getElementsByClassName("tab");
        x[n].style.display = "block";
        // ... and fix the Previous/Next buttons:
        if (n == 0) {
            document.getElementById("prevBtn").style.display = "none";
        } else {
            document.getElementById("prevBtn").style.display = "inline";
        }
        if (n == (x.length - 1)) {
            document.getElementById("nextBtn").innerHTML = "Submit";
        } else {
            document.getElementById("nextBtn").innerHTML = "Next";
        }
        // ... and run a function that displays the correct step indicator:
        fixStepIndicator(n)
        }

        function nextPrev(n) {
        // This function will figure out which tab to display
        var x = document.getElementsByClassName("tab");
        // Exit the function if any field in the current tab is invalid:
        if (n == 1 && !validateForm()) return false;
        // Hide the current tab:
        x[currentTab].style.display = "none";
        // Increase or decrease the current tab by 1:
        currentTab = currentTab + n;
        // if you have reached the end of the form... :
        if (currentTab >= x.length) {
            //...the form gets submitted:
            document.getElementById("regForm").submit();
            return false;
        }
        // Otherwise, display the correct tab:
        showTab(currentTab);
        }

        function validateForm() {
        // This function deals with validation of the form fields
        var x, y, i, valid = true;
        x = document.getElementsByClassName("tab");
        y = x[currentTab].getElementsByTagName("input");
        // A loop that checks every input field in the current tab:
        for (i = 0; i < y.length; i++) {
            // If a field is empty...
            if (y[i].value == "") {
            // add an "invalid" class to the field:
            y[i].className += " invalid";
            // and set the current valid status to false:
            valid = false;
            }
        }
        // If the valid status is true, mark the step as finished and valid:
        if (valid) {
            document.getElementsByClassName("step")[currentTab].className += " finish";
        }
        return valid; // return the valid status
        }

        function fixStepIndicator(n) {
        // This function removes the "active" class of all steps...
        var i, x = document.getElementsByClassName("step");
        for (i = 0; i < x.length; i++) {
            x[i].className = x[i].className.replace(" active", "");
        }
        //... and adds the "active" class to the current step:
        x[n].className += " active";
        }
        document.getElementById('card_10').onchange = function() {
          document.getElementById('card_10_in').disabled = !this.checked;
        };
        document.getElementById('card_11').onchange = function() {
          document.getElementById('card_11_in').disabled = !this.checked;
        };
    </script>
  </form>
    {% endblock %}